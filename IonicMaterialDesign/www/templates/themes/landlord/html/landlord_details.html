<!--View Information-->
<!--View name : Location Feed-->
<!--State name : app.locationFeed-->
<!--URL : #app/locationFeed-->
<ion-view title="{{landlord.title}}">
    <ion-nav-buttons side="left">
        <a ng-click="$ionicGoBack()" class="button back-button buttons button-clear header-item nav-back-btn">
            <i class="ion-android-arrow-back"></i>
        </a>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
    <a class="button button-outline button-light button-save" ng-click="save(landlord.object)">Save</a>
    </ion-nav-buttons>

    <ion-content id="location-feed-content">
        <div class="location-list">
            <div class="location-item">
                <div class="location-content row">
                    <div class="col-80">
                        <h1 style=";display: inline-block">{{landlord.title}}</h1>
                    </div>
                    <div class="col-20" style="padding-bottom: 5px; text-align: right; ">
                        <h2 style="display: inline;" id="rating" ng-class="{black:landlord.rating==0, red:landlord.rating > 0 && landlord.rating<4, green:landlord.rating>6, yellow:landlord.rating>3 && landlord.rating<7}">{{landlord.rating}}</h2>
                        <p style="display: inline;"> / 10</p>
                    </div>
                </div>
            </div>


            <div class="location-item">
                <div class="location-content row">
                    <div class="col-80">
                        <h1>Contact Information</h1>
                        <p> {{ landlord.phone}} 
                        <br /> {{ landlord.email }} </p>
                        <p>{{landlord.streetNo}} {{landlord.street}}
                        <br />{{landlord.city}}, {{landlord.state}} {{landlord.zipcode}}</p>
                    </div>
                </div>
            </div>
            <div class="location-item">
                <div class="location-content row">
                    <div class="col-80">
                        <h1>Properties</h1>
                    </div>
                    <div class="col-20" style="text-align: right">
                        <button class="button button-outline button-positive add-button-small" ng-click="navigateTo('app.addlocationfromll', landlord)">+</button>
                    </div>
                </div>

                <ion-list ng-repeat="property in properties">         
                    <a class=" item item-list-detail item-text-wrap " style="border-bottom: none; margin:0; padding-top: 4px; padding-bottom: 4px;" ng-click="navigateTo('app.locationDetails', property)">
                        <div class="row">
                            <div class="col-80">
                                <h3 id="landlordproptitle"> {{property.title}}</h3> 
                            </div>
                            <div class="col-20">
                            <h2 style="text-align: right;" ng-class="{black:property.rating==0, red:property.rating>4, green:property.rating>6, yellow:property.rating>3 && property.rating<7}">{{property.rating}}</h2>
                            </div>
                        </div>
                    </a>
                </ion-list> 

            </div>
            <div class="location-item">
                <div class="location-content row">
                <div class="col-80">
                    <h1 style="padding-right: 0; display: inline-block;">Reviews</h1><h3>&nbsp;&nbsp; â€¢ &nbsp;&nbsp;{{reviews.length}}</h3>
                </div>
                <div class="col-20" style="text-align: right">
                    <button class="button button-outline button-positive add-button-small" ng-click="navigateTo('app.addreviewforlandlord', landlord)">+</button>
                </div>
            </div>
            
            <ion-list ng-repeat="review in reviews | limitTo:3">
                <div class="item item-list-detail item-text-wrap" style="border-bottom: none;">
                    <p>Rating: {{review.rating}}/10   |   Time: {{review.time}}</p> 
                    <p>{{review.text}}</p>
                </div>
            </ion-list>
            <div class="item item-list-detail center" ng-hide="reviews.length <= 3" ng-click="navigateTo('app.allreviewsll', landlord, reviews, reviews)">View all reviews</div>
            </div>
        </div>
        <!--end list section-->
        <br />
    </ion-content>
    <!--end location feed section-->
</ion-view>