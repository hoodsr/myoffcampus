<!--View Information-->
<!--View name : Property List-->
<!--Controller name : propListCtrl-->
<!--Controller path : www/themes/property/controllers.js-->
<!--State name : app.proplist-->
<!--URL : #app/proplist-->
<ion-view title="Landlords Search">
    <!--right button on navigation bar-->
    <ion-nav-buttons side="right">
        <md-button ng-disabled="isLoading" class="md-icon-button ion-nav-button-right" ng-click="navigateTo('app.notesetting')" aria-label="Setting">
            <i class="ion-android-more-vertical"></i>
        </md-button>
    </ion-nav-buttons>
    <!--end right button on navigation bar-->
    <!--prop list section-->
    <ion-content id="landlord-feed-content" class="fade-in">
        <!--list section-->
        <md-list>
            <!--list item section-->
            <md-list-item>

            <md-input-container md-no-float="" class="search-box">
            <a class="minibutton" ng-click="searchlordFeed()"><i class="ion-android-search"></i></a>
            <input ng-model="userInput.lordText" placeholder="Search by landlord's name">
        </md-input-container>
         </md-list-item>


            <md-card ng-if="!isAnimated" ng-click="navigateTo('app.landLordDetails' , landlord)" class="card-item" ng-repeat="landlord in landlords track by $index"> <!-- this need to change once property detail page is set up --> 
                <md-card-content>
                    <div class="card-content">
                        <h1 class="md-title">
                            <span>
                            {{landlord.title}}  <!-- <i class="fa fa-female" aria-hidden="true"></i> -->
                        </span>
                        </h1>
                        <div class="landlord-content-detail row">
                            <div id="landlordbox" class="col-20">
                            <div class="landlord-img" ng-style="{'background-image': 'url(' + landlord.image_url + ')' }"></div>
                            </div>

                            <div class="col-80">

                            {{landlord.phone}} </br>
                            {{landlord.email}}   </br>
                        </div> 
                            <div  id='landlordratingbox' class="col-20">
                             <h2 id="rating" ng-class="{black:landlord.rating=0, red:landlord.rating>0 && landlord.rating<4, green:landlord.rating>6, yellow:landlord.rating>3 && landlord.rating<7}">{{landlord.rating}}</h2>
                            <span class="text-add" ng-click="save(property.object); $event.stopPropagation();"> Save </span>

                            </div>
                        </div>

                    </div>
                </md-card-content>
            </md-card>

            <!--Below code it will show animation when selecting row.-->
            <md-list-item ng-if="isAnimated" ng-repeat="prop in propertyList | filter: { ptitle: filterText } | orderBy: 'ptitle'">
                <md-card>
                    <md-button ng-click="navigateTo('app.addproperty' , prop )">
                        <md-card-content>
                            <div class="card-content">
                                <h1 class="md-title">
                                    <span>
                                        <i class="ion-android-list"></i>{{prop.ptitle}}
                                    </span>
                                </h1>
                                <div>
                                    {{prop.address}} </br>
                                    Rating: {{prop.rating}} </div>
                            </div>
                        </md-card-content>
                    </md-button>
                </md-card>
            </md-list-item>
            <!--end list item section-->
        </md-list>
        <!--end list section-->
    </ion-content>
    <!--end property list section-->

    <!--footer fab bar, contains button that direct to the add new property page --> 
    <div class="footer-fab-bar">
        <a class="md-button md-accent md-fab fab-footer" ng-click="navigateTo('app.addlandlord')" aria-label="Add">
            <i class="ion-android-create"></i>
        </a>
    </div>
    <!--end footer fab bar-->

    <!--loading progress-->
    <div id="landlord-feed-loading-progress" class="loading-progress fade-in">
        <ion-spinner ng-if="!isAndroid" class="progress-circular"></ion-spinner>
        <md-progress-circular ng-if="isAndroid" md-mode="indeterminate"></md-progress-circular>
    </div>
    <!--end loading progress-->

</ion-view>